This file has been consolidated and moved to `updates/2025-12-10-update.md`.
Please see `updates/` for the centralized update logs and archived copilot activity.
## Game Card â€” Detailed Breakdown (exhaustive explanation)

This section explains every element of the `GameCard` UI so contributors know what each layer and handler does.

- Entry and semantics
  - The card is wrapped in a React Router `Link` to `/game/:id`. This makes the whole tile clickable and keyboard-focusable.
  - `aria-label` is used on the `Link` (e.g., `Open Clicker Hero game`) so screen readers announce intent.

- Top-level motion container
  - Implemented as a Framer Motion `motion.div` to support enter/exit transitions and hover effects.
  - `layout` enables smooth reflows when the grid changes; `initial/animate/exit` provide mount/unmount transitions.
  - `whileHover` applies lift/scale/rotate. The values are chosen to be noticeable but not jarring. `useReducedMotion()` toggles simplified fallbacks.

- Visual composition (left column: thumbnail + decorations)
  - The thumbnail block (`.game-card-thumb`) is absolutely positioned content inside the card that contains:
    - Accent top line (3px) colored by `accentColor` (derived from category or thumbnail hex).
    - The image itself (`motion.img`) which uses `loading="lazy"` and animates scale & small translate on hover to achieve a parallax/zoom effect.
    - `imageOverlay` (semi-transparent gradient) placed above the image to ensure readability and neon mood.
    - A decoration layer (SVG) placed above the overlay and image that renders per-game artwork (snake path, card backs, +1 circle, etc.). This layer is animation-capable and receives hover state.
  - The favorite button is absolutely positioned in the thumbnail's top-right; it uses `aria-pressed` and persists favorites via `useLocalStorage('favorites', [])`.

- Decoration layer details
  - Decorations are produced by `renderDecoration(game.id, hovered)` and are strictly decorative (`pointer-events: none`). They are sized to the thumbnail area and do not affect layout.
  - Decorations use either SVG `<animate>` tags (for tiny self-contained motions) or can be driven by Framer Motion for consistent easing.
  - Examples of decorations:
    - Snake: animated path + movable apple; on hover apple moves slightly toward the head to suggest pursuit.
    - Hangman: head/rope subtle motion that increases when hovered (suggests danger/wrong guess).
    - Math: different displayed equations when hovered for variety.
  - All decoration animations are wrapped with `prefersReduced` checks; they are muted or removed entirely when reduced motion is requested.

- Hover overlay + Play affordance
  - When the card is hovered a translucent overlay fades in (Framer Motion opacity). A centered Play icon in a small pill appears to indicate the tile can be launched.
  - Hover also triggers `prefetchGame()` (from `GameRegistry`) to warm code-split bundles.

- Content column (title, description, footer)
  - Title is rendered as a `motion.h3` enabling a gentle glow / text-shadow on hover; this is subtle emphasis rather than layout change.
  - Description is clamped to two lines to keep cards uniform.
  - Footer contains category chip, PR chip, badges, Resume button (if resumable), and players text.

- PR and Resume logic
  - `storedHighScore` reads from `localStorage.getItem(`highScore:${game.id}`)` when applicable.
  - `resumeExists` is a boolean computed by checking a set of candidate keys (e.g., `${game.id}State`, `tetrisState`, `snakeState`). If it exists, a `Resume` button is shown which navigates to `/play/${game.id}?resume=1`.

- Badges system integration
  - Badge state is stored under `badges:<gameId>` via `src/utils/badges.js`. Structure: `{ plays: number, badges: string[] }`.
  - APIs: `getBadgesForGame(gameId)`, `incrementPlays(gameId)`, `awardBeatPR(gameId)`.
  - `awardBeatPR(gameId)` writes the badge and dispatches `window.dispatchEvent(new CustomEvent('badge:beat-pr', { detail: { gameId } }))` so UI components (e.g., `Confetti`) can react.

- Recently played integration
  - `PlayPage` calls `addRecentlyPlayed(game.id)` on mount; this writes a small array of recent entries to `localStorage.recentlyPlayed` (max 3) used by `GameLibrary`.

- Tilt & pointer micro-interactions
  - `onMouseMove` computes relative dx/dy and converts them to small rotation (`rx`, `ry`) and translation (`tx`, `ty`) values.
  - The current approach animates only the thumbnail and the decoration layer (not the text/background) to preserve readability.
  - The motion uses spring parameters tuned in `GameCard.jsx` for a pleasing sense of weight.

- Accessibility & reduced-motion
  - `useReducedMotion()` disables or simplifies Framer Motion transitions and avoids SVG `<animate>` where possible.
  - Buttons include `aria-label` / `aria-pressed`. Link semantics provide keyboard support; recently played items are focusable.

- Performance & lazy-loading
  - Images use `loading="lazy"`; hovering a card triggers `prefetchGame()` for code-split game modules.
  - Framer Motion animations are kept lightweight to avoid jank; decoration SVGs are small and often only animate on hover.

- Where to change things
  - Visual tweaks (colors, glow strength): `GameCard.jsx` calculates `accentColor` and `accentGlow` near the top â€” change there.
  - Decoration content: `renderDecoration` (inside `GameCard.jsx`) returns per-game SVGs; add or update cases to modify per-game visuals.
  - Badge behavior: `src/utils/badges.js`.
  - Recently-played behavior: `src/utils/recentlyPlayed.js` and `src/pages/PlayPage.jsx`.

If you'd like, I can produce a small reference diagram (PNG or SVG) that labels these layers visually, or convert all `<animate>` usage to Framer Motion for unified control and easier tuning. Tell me which you'd prefer next.
    - `renderDecoration` in `src/components/GameCard/GameCard.jsx` now receives hover state and can alter per-game SVG decorations when the card is hovered.
    - Implemented initial hover behaviors:
      - `snake`: an apple element moves toward the snake when hovered (gives the impression the snake is targeting it).
      - `hangman`: the hanging figure subtly swings / extends when hovered to simulate a 'wrong guess' motion.
      - `math-quiz`: alternate equation is shown when hovered (e.g., switches from 7Ã—6 to 8Ã—7) for variety.
    - All contextual effects respect `prefers-reduced-motion` and fall back to the idle animations when motion is disabled.

  - Update: Decorations overlay & non-moving text/background
    - Adjusted `GameCard` so the main card background and text do not rotate/tilt. Only the thumbnail and decorative SVG layer move on hover/tilt.
    - Decorations are rendered in a top layer (`z-index` above the thumbnail) and animated together with the thumbnail, preserving legibility of title/description while keeping decorations prominent.

  - Polished animation tuning (2025-12-10)
    - Tuned Framer Motion spring parameters for smoother, more natural motion:
      - Card hover uses a softer spring (stiffness 140, damping 18) and slightly larger lift/scale for higher noticeability.
      - Thumbnail image spring tuned (stiffness 160, damping 20) for snappy-yet-smooth zoom/parallax.
      - Decoration layer spring tuned to match thumbnail movement for a coherent layered motion.
    - Added a subtle title glow on hover to emphasize the focused card (respects reduced-motion).
    - These changes aim to make animations feel more organic without moving the card text/background itself.


2025-12-10 â€” Full Site Summary & Update Log

This is the comprehensive description of the project as it stands, what it does, how it looks and behaves, the games included, where state and persistence live, accessibility and performance approaches, and a prioritized set of suggestions you can ask me to implement next.

1) Project Overview
- Purpose: "my-game-hub" is a small single-page React app that hosts a curated set of lightweight browser games. It provides a library view where users can browse titles, see thumbnails, basic metadata, PRs (personal records), and play games inside a play overlay.
- Tech stack: React (JSX), React Router, Vite, Tailwind/PostCSS (project already imports `index.css`), Framer Motion for UI motion, lucide-react icons. The project uses code-splitting via `React.lazy` for each game to reduce initial bundle size.

2) What the site contains (Games)
Included games (titles & ids):
- Clicker Hero (`clicker-hero`) â€” a simple timed clicker where PR is stored as `highScore:clicker-hero` in localStorage.
- Tetris (`box-dodger` / componentKey `Tetris`) â€” implemented with a 7-bag RNG, canvas rendering, previews, persists full `tetrisState` (board, current piece, queue, bag, score, highScore, gameOver) in localStorage.
- Speed Math (`math-quiz`) â€” quick calculation challenges, uses `mathHighScore` key pattern.
- Snake (`snake`) â€” canvas-based snake with persistence to `snakeState`.
- Memory Card (`memory-card`) â€” flip-and-match card game.
- Tic-Tac-Toe (`tic-tac-toe`) â€” classic 2-player game.
- Rock Paper Scissors (`rock-paper-scissors`) â€” quick button-based game.
- Hangman (`hangman`) â€” word-guessing; supports multiplayer chooser.
- Minesweeper (`minesweeper`) â€” tile reveal / flagging game.
- War Card Game (`war-card-game`) â€” simple card draw game.
- Blackjack (`blackjack`) â€” basic blackjack v.s. dealer.
- Higher or Lower (`higher-lower`) â€” guess if next card is higher/lower.

3) How it looks (Visual & UX design)
- Theme: Dark, neon-accented interface. Global style utilities include an `.accent-glow` class, focus-visible outlines for keyboard navigation, and a dark palette across components.
- Layout: A responsive grid for game cards. On narrow viewports cards stack vertically and thumbnails scale with the card.
- Cards: Each `GameCard` shows:
  - thumbnail (now `loading="lazy"`), title, short description, category chip (accent colored), PR display, players, favorite button and a per-game decorative SVG/animated accent.
  - a new `Resume` badge appears when a saved session is detected (reads common localStorage keys like `tetrisState`, `snakeState`, and other candidate keys).
  - hovering a card prefetches the game's lazy-loaded component bundle to reduce perceived load time.
- Play overlay: When starting a game the app opens a full-screen overlay with an overlay header (title, close) and a centered play area sized to a reasonable max width/height. The overlay uses Suspense fallback that displays a per-game SVG loader when the component chunk is still loading.

4) How it works (Architecture & data)
- Routing: React Router routes include `/` (landing), `/games` (library), `/game/:id` (game info), `/play/:id` (play overlay), and `/leaderboard` (local leaderboard added). The library lists games from `src/data/games.json`.
- Code-splitting: `src/games/GameRegistry.jsx` registers each game's lazy import and also exports a `prefetchGame()` helper which is invoked when hovering a card.
- Persistence: Several games persist in `localStorage`.
  - Tetris: `tetrisState` (full game state) and `tetrisHighScore`.
  - Snake: `snakeState` and `snakeHighScore`.
  - Clicker: stores `highScore:clicker-hero`.
  - Other games may store high score keys with names like `highScore:<id>` or `mathHighScore`.
- Resume UX: `GameCard` now shows a Resume badge if a saved session key is found. Clicking the Resume badge navigates directly to `/play/:id?resume=1`. `PlayPage` reads `resume=1` and forwards a boolean `resume` prop to the game component so that components which support resuming can opt-in to resume flow.

5) Accessibility & reduced motion
- Focus: the project has `:focus-visible` rules and some ARIA attributes already on interactive elements (e.g., favorite button `aria-pressed`).
- Reduced motion: `GameLoading` and card decorations respect `prefers-reduced-motion` using Framer Motion's `useReducedMotion` and by conditionally disabling SVG `<animate>` nodes.

6) Performance
- Lazy-loaded game components (`React.lazy`) and per-card prefetch-on-hover to optimize perceived load. Images now use `loading="lazy"`.

7) What I changed (summary of code edits)
- Restored and fixed animation hooks in `GameCard` so `useReducedMotion` is called correctly and all SVG animations respect it.
- Added `Resume` badge with a working navigate handler on the card.
- Added prefetch support via `GameRegistry` and used it on card hover.
- Converted many inline px values to rem-based sizing for several games to improve responsiveness (HigherLower, Minesweeper, Hangman, RockPaperScissors). Continued sweeping remains in-progress for other games.
- Enhanced `GameLoading` to respect reduced motion.
- Added `Leaderboard` page and navbar link that reads local stored high scores.
- Added a Reset PR button to the Clicker game to clear stored `highScore:clicker-hero`.

8) Where state is stored (persistence keys)
- `tetrisState` â€” full state for Tetris (board, current piece, nextQueue, bag, score, highScore, gameOver)
- `tetrisHighScore` â€” Tetris high score (also stored inside tetrisState payload)
- `snakeState` â€” full state object for Snake
- `snakeHighScore` â€” Snake high score
- `highScore:clicker-hero` â€” Clicker PR
- `mathHighScore` â€” (used by math game)
- `highScore:<id>` â€” pattern used by some components for PR per game

9) Suggestions to make site stand out (pick any to implement; I can do them):
- Social / share-ready leaderboards: Add a sharable image or pre-filled tweet containing the top score and a screenshot hook. Add a small "Share" button on the leaderboard rows.
- Gamify the library: add play streak counters, badges for players (e.g., "Tetris Rookie", "100 Clicks Club"), display badges on cards and in the profile area. Store badges locally.
- Global Settings modal: theme toggle (dark/light), reduced-motion toggle that writes to localStorage, telemetry opt-in toggle. Add a persistent small settings icon in the navbar.
- Improve onboarding/hero: make the landing page show an animated hero with a prominent "Play Now" CTA and a short features list. Add demo autoplay snippets per game (muted) to show gameplay.
- Analytics & featured list: track play counts (locally or opt-in) and dynamically surface "Trending" or "Editor's picks" in the library. Prefetch those bundles.
- Polish visuals: animated gradient accents on card hover, small entrance transitions, subtle particle or confetti effect when PR is beaten.
- Community/competition: add a "challenge" feature where players can set a target score and invite a friend (share link) â€” could use localStorage for now.

10) Risk notes & assumptions
- localStorage is used as the only persistence layer â€” this is per-browser and not shared across devices. If you want server-backed leaderboards or cross-device persistence, we'll need a backend.
- I didn't run the dev server in this environment â€” please run the dev server locally to verify runtime behavior (HMR, interactive effects).

11) Next practical steps I can implement right away (priority order)
1. Finish the inline-size sweep across all game components (complete responsiveness). â€” Low risk, keeps UI consistent.
2. Add `Settings` modal: dark/light, reduced-motion toggle, telemetry opt-in. â€” Medium work, high UX value.
3. Add Vitest + smoke tests and a `npm run test` script. â€” Improves CI readiness.
4. Add share buttons and a screenshot generator for high scores (to promote the game). â€” Requires some UI + optional canvas code.
5. Add per-card badges and small achievements system stored in localStorage. â€” Fun and shareable; increases retention.

If you want me to implement any of the items above, tell me which one to start with and I'll update the todo list and begin. I can continue with the full code audit (every file) to finish the responsive sweep, or switch to higher-impact features like the Settings modal or achievements system.

â€” End of log

---

2025-12-10 â€” Live Additions (badges, recently played, UI polish)

- Badges system (localStorage): `src/utils/badges.js`
  - Stores badge state under `badges:<gameId>` (plays count + badges array).
  - Helpers: `getBadgeData`, `getBadgesForGame`, `hasBadge`, `awardBadge`, `incrementPlays`, `awardBeatPR`, `resetBadges`.
  - `incrementPlays(gameId)` increments play counter and awards `played-10` at 10 plays.
  - `awardBeatPR(gameId)` awards `beat-pr` and dispatches a global `badge:beat-pr` CustomEvent so the UI can react (confetti, notifications).

- Badge UI on `GameCard`: `src/components/GameCard/GameCard.jsx`
  - Reads badges with `getBadgesForGame(game.id)` and renders small icon chips with tooltips (Framer Motion entrance). Uses existing neon/dark theme and small rounded chip styling.
  - Badge types currently: `played-10` (ðŸŽ–) and `beat-pr` (ðŸ”¥). More can be added easily.

- Recently Played: `src/utils/recentlyPlayed.js` and `GameLibrary` integration
  - `addRecentlyPlayed(gameId)` stores last 3 plays under `recentlyPlayed` in localStorage.
  - `PlayPage` now calls `addRecentlyPlayed(game.id)` on mount so played sessions are recorded automatically.
  - `GameLibrary` renders a `Continue Last Played` strip at the top (thumbnail, title, `Resume` badge, timestamp). Items are keyboard accessible and link to `/play/:id?resume=1`.

- Confetti on PR beat: `src/components/Confetti/Confetti.jsx` + integration
  - `awardBeatPR` now dispatches a `badge:beat-pr` event. `Confetti` listens for this event and shows a brief confetti burst overlay using Framer Motion (respects `prefers-reduced-motion`).
  - `PlayPage` renders `<Confetti />` so celebrations appear within the play overlay when a PR is beaten.

- Visual polish
  - `GameCard` now has an animated neon gradient overlay on thumbnail hover (Framer Motion), respecting reduced-motion preferences.
  - `GameLibrary` grid items now include a tiny stagger delay so cards enter the grid with a subtle cascading animation on load.

Where to look in the code
- `src/utils/badges.js` â€” implementation and event dispatch.
- `src/components/GameCard/GameCard.jsx` â€” badge rendering and hover gradient overlay.
- `src/utils/recentlyPlayed.js` â€” recently played storage helpers.
- `src/pages/PlayPage.jsx` â€” records recently played and renders `Confetti`.
- `src/components/Confetti/Confetti.jsx` â€” confetti implementation.
- `src/pages/GameLibrary.jsx` â€” recently-played UI and staggered grid entrance.

Next recommended steps (pick one):
1. Wire each game's PR logic to call `awardBeatPR(gameId)` when a PR is beaten (I can patch Tetris, Snake, Clicker first).
2. Add a `Profile/Badges` page that aggregates all `badges:<id>` entries and shows earned badges (and a global `tried-all` badge).
3. Replace inline styles in these new components with Tailwind utility classes to match the project's class-based styling pattern.

If you'd like, I can now:
- Patch a specific game to call `awardBeatPR` when its PR is beaten (recommended: Clicker and Tetris).
- Add a small flip animation for the Recently Played cards when hovered (Framer Motion).
- Convert the new components to Tailwind classes instead of inline styles.

